<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <!-- import CSS -->
    <link rel="stylesheet" href="css/index.css">
</head>
<style>
    .placeholder-indent input::-webkit-input-placeholder {
        text-indent: 15px;
    }

    .placeholder-indent input {
        text-indent: 15px;
        margin: 3px 0;
    }

    .clearfix:after {
        display: block;
        clear: both;
        content: "";
        visibility: hidden;
        height: 0
    }

    .fl {
        float: left;
    }

    .red {
        color: red;
    }

    .green {
        color: green;
    }

    .el-input-number__decrease,
    .el-input-number__increase {
        display: none
    }

    .el-input__inner {
        padding-left: 15px !important;
        padding-right: 0 !important;
        text-align: left !important
    }

    #DJUpload .el-upload-list--picture-card .el-upload-list__item {
        height: 90px;
        width: 90px;
    }

    #DJUpload .el-upload--picture-card {
        height: 90px;
        width: 90px;
        line-height: 100px;
    }

    #DJUpload .el-upload-list__item-delete {
        /* display: none; */
    }

    .maskLoading {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        z-index: 9999999;
        /* display: none; */
    }

    .maskLoading .imgText {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        margin: auto;
        width: 400px;
        height: 180px;
    }

    .maskLoading .imgText p {
        color: #fff;
        text-align: center;
    }

    .progress {
        margin-top: 2px;
        width: 100%;
        height: 14px;
        margin-bottom: 10px;
        overflow: hidden;
        background-color: #f5f5f5;
        border-radius: 4px;
        -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, .1);
        box-shadow: inset 0 1px 2px rgba(0, 0, 0, .1);
    }

    .progress-bar {
        background-color: rgb(92, 184, 92);
        background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.14902) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.14902) 50%, rgba(255, 255, 255, 0.14902) 75%, transparent 75%, transparent);
        background-size: 40px 40px;
        box-shadow: rgba(0, 0, 0, 0.14902) 0px -1px 0px 0px inset;
        box-sizing: border-box;
        color: rgb(255, 255, 255);
        display: block;
        float: left;
        font-size: 12px;
        height: 20px;
        line-height: 20px;
        text-align: center;
        transition-delay: 0s;
        transition-duration: 0.6s;
        transition-property: width;
        transition-timing-function: ease;
        width: 100%;
    }

    [v-cloak] {
        display: none;
    }

    .important .el-form-item__label::before {
        content: '*';
        color: #f56c6c;
        margin-right: 4px;
    }

    .filesStateInput {
        width: 400px;
        border: 1px solid #ccc;
        border-radius: 5px;
        height: 30px;
        text-indent: 5px;
        line-height: 30px;
        margin-left: 5px;
    }

    .importantlogo {
        position: relative
    }

    .importantlogo::before {
        position: absolute;
        content: '*';
        left: -10px;
        top: -10px;
        color: red;
    }
</style>

<body>
    <div id="app">
        <transition name="el-fade-in-linear">
            <div class="maskLoading" v-cloak v-show='updataFiles'>
                <div class="imgText">
                    <img style="margin-left: 40%;" src="images/loading.gif" alt="">
                    <p>文件较大或上行网速较慢，请耐心等待上传。<br />过程中请不要关闭或刷新浏览器！避免上传失败。<br />上传成功后页面自动刷新</p>
                </div>
            </div>
        </transition>
        <div v-show="showone">
            <template>
                <el-tabs v-model="activeName" @tab-click="handleClick" style="width: 800px;margin:0 auto;">
                    <el-tab-pane label="学生信息" name="first"></el-tab-pane>
                    <el-tab-pane label="订单信息" name="second"></el-tab-pane>
                </el-tabs>
            </template>
            <el-form :model="ruleForm" :rules="rules" ref="ruleForm" label-width="180px" style="width:100%;"
                     class="demo-ruleForm">
                <div v-show="!showa">
                    <el-form-item label="手机号" prop="mobile" class="mobile">
                        <div style="width:100px;display:inline-block">
                            <el-select v-model="ruleForm.mobileCode" style="width:100px;">
                                <!-- :label="'+' + item.code + ' ' + item.name" -->
                                <el-option v-for="item in countrys" :key="item.id"
                                           :value="item.code">
                                    <span style="display:inline-block;width:30px;text-align: right;">
                                        {{'+' + item.code}}
                                    </span>
                                    <span style="display:inline-block;">
                                        {{item.name}}
                                    </span>
                                </el-option>
                            </el-select>
                        </div>
                        <el-input-number v-model="ruleForm.mobile" style="width:180px;" @blur="result()" :min="0"
                                         :precision="0" :step="0">
                        </el-input-number>
                        </el-input>
                        <i class="el-icon-error" style="color:red" v-show="yes"></i>
                        <i class="el-icon-success" style="color:green" v-show="no"></i>
                        <i v-show="error" :class="color">{{error}}</i>
                    </el-form-item>
                    <el-form-item label="密码" prop="password" style="display:none;">
                        <el-input v-model="ruleForm.password" placeholder="请输入密码" :disabled="true" style="width:300px;">
                        </el-input>
                    </el-form-item>
                    <el-form-item label="学生昵称" prop="nickName">
                        <el-input id="nickName" v-model="ruleForm.nickName" placeholder="请输入学生昵称" style="width:300px;">
                        </el-input>
                    </el-form-item>
                    <el-form-item label="微信号" prop="wxAccount">
                        <el-input id="wxAccount" v-model="ruleForm.wxAccount" placeholder="请输入微信号" style="width:300px;">
                        </el-input>
                    </el-form-item>
                    <el-form-item label="留学国家" prop="countryId">
                        <el-select id="countryId" v-model="ruleForm.countryId" filterable placeholder="请选择留学国家"
                                   @change="change_state" style="width:300px;" v-bind:disabled="coun">
                            <el-option v-for="item in countrys" :key="item.id" :label="item.name" :value="item.id">
                            </el-option>
                        </el-select>
                        <el-button v-if='false' type="primary" @click="change_country">修改</el-button>
                    </el-form-item>
                    <el-form-item label="学校" prop="universityId">
                        <el-select id="universityId" v-model="ruleForm.universityId" filterable placeholder="请选择学校"
                                   style="width:300px;">
                            <el-option v-for="item in universitys" :key="item.id" :label="item.name" :value="item.id">
                            </el-option>
                        </el-select>
                    </el-form-item>
                    <el-form-item label="专业" prop="professionalId">
                        <el-select id="professionalId" v-model="ruleForm.professionalId" filterable placeholder="请选择专业"
                                   style="width:300px;">
                            <el-option v-for="item in professionalNames" :key="item.id" :label="item.chineseName"
                                       :value="item.id">
                            </el-option>
                        </el-select>
                    </el-form-item>
                    <el-form-item label="年级" prop="schoolYear">
                        <el-select id="schoolYear" v-model="ruleForm.schoolYear" filterable placeholder="请选择年级"
                                   style="width:300px;">
                            <el-option label="1年" value="1"></el-option>
                            <el-option label="2年" value="2"></el-option>
                            <el-option label="3年" value="3"></el-option>
                            <el-option label="4年" value="4"></el-option>
                        </el-select>
                    </el-form-item>
                    <el-form-item label="在读学历" prop="levelId">
                        <el-select id="levelId" v-model="ruleForm.levelId" placeholder="请选择在读学历" style="width:300px;">
                            <el-option v-for="item in levels" :key="item.id" :label="item.name" :value="item.id">
                            </el-option>
                        </el-select>
                    </el-form-item>
                    <el-form-item label="学校教务系统账号" prop="schoolAccount">
                        <el-input v-model="ruleForm.schoolAccount" id="schoolAccount" style="width:300px;"></el-input>
                    </el-form-item>
                    <el-form-item label="学校教务系统密码" prop="schoolPws">
                        <el-input v-model="ruleForm.schoolPws" id="schoolPws" style="width:300px;"></el-input>
                    </el-form-item>
                    <el-form-item label="周一" prop="one" class="clearfix placeholder-indent">
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime1" style="width:120px"
                                            :picker-options="{
                        start: '00:00',
                        step: '00:15',
                        end: '24:00'
                      }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime1" style="width:120px"
                                            :picker-options="{
                        start: '00:00',
                        step: '00:15',
                        end: '24:00',
                        minTime: ruleForm.startTime1
                      }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime2" style="width:120px"
                                            :picker-options="{
                          start: '00:00',
                          step: '00:15',
                          end: '24:00'
                        }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime2" style="width:120px"
                                            :picker-options="{
                          start: '00:00',
                          step: '00:15',
                          end: '24:00',
                          minTime: ruleForm.startTime2
                        }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime3" style="width:120px"
                                            :picker-options="{
                            start: '00:00',
                            step: '00:15',
                            end: '24:00'
                          }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime3" style="width:120px"
                                            :picker-options="{
                            start: '00:00',
                            step: '00:15',
                            end: '24:00',
                            minTime: ruleForm.startTime3
                          }">
                            </el-time-select>
                        </div>
                    </el-form-item>
                    <el-form-item label="周二" prop="two" class="clearfix placeholder-indent">
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime4" style="width:120px"
                                            :picker-options="{
                          start: '00:00',
                          step: '00:15',
                          end: '24:00'
                        }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime4" style="width:120px"
                                            :picker-options="{
                          start: '00:00',
                          step: '00:15',
                          end: '24:00',
                          minTime: ruleForm.startTime4
                        }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime5" style="width:120px"
                                            :picker-options="{
                            start: '00:00',
                            step: '00:15',
                            end: '24:00'
                          }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime5" style="width:120px"
                                            :picker-options="{
                            start: '00:00',
                            step: '00:15',
                            end: '24:00',
                            minTime: ruleForm.startTime5
                          }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime6" style="width:120px"
                                            :picker-options="{
                              start: '00:00',
                              step: '00:15',
                              end: '24:00'
                            }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime6" style="width:120px"
                                            :picker-options="{
                              start: '00:00',
                              step: '00:15',
                              end: '24:00',
                              minTime: ruleForm.startTime6
                            }">
                            </el-time-select>
                        </div>
                    </el-form-item>
                    <el-form-item label="周三" prop="three" class="clearfix placeholder-indent">
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime7" style="width:120px"
                                            :picker-options="{
                            start: '00:00',
                            step: '00:15',
                            end: '24:00'
                          }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime7" style="width:120px"
                                            :picker-options="{
                            start: '00:00',
                            step: '00:15',
                            end: '24:00',
                            minTime: ruleForm.startTime7
                          }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime8" style="width:120px"
                                            :picker-options="{
                              start: '00:00',
                              step: '00:15',
                              end: '24:00'
                            }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime8" style="width:120px"
                                            :picker-options="{
                              start: '00:00',
                              step: '00:15',
                              end: '24:00',
                              minTime: ruleForm.startTime8
                            }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime9" style="width:120px"
                                            :picker-options="{
                                start: '00:00',
                                step: '00:15',
                                end: '24:00'
                              }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime9" style="width:120px"
                                            :picker-options="{
                                start: '00:00',
                                step: '00:15',
                                end: '24:00',
                                minTime: ruleForm.startTime9
                              }">
                            </el-time-select>
                        </div>
                    </el-form-item>
                    <el-form-item label="周四" prop="four" class="clearfix placeholder-indent">
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime10" style="width:120px"
                                            :picker-options="{
                              start: '00:00',
                              step: '00:15',
                              end: '24:00'
                            }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime10" style="width:120px"
                                            :picker-options="{
                              start: '00:00',
                              step: '00:15',
                              end: '24:00',
                              minTime: ruleForm.startTime10
                            }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime11" style="width:120px"
                                            :picker-options="{
                                start: '00:00',
                                step: '00:15',
                                end: '24:00'
                              }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime11" style="width:120px"
                                            :picker-options="{
                                start: '00:00',
                                step: '00:15',
                                end: '24:00',
                                minTime: ruleForm.startTime11
                              }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime12" style="width:120px"
                                            :picker-options="{
                                  start: '00:00',
                                  step: '00:15',
                                  end: '24:00'
                                }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime12" style="width:120px"
                                            :picker-options="{
                                  start: '00:00',
                                  step: '00:15',
                                  end: '24:00',
                                  minTime: ruleForm.startTime12
                                }">
                            </el-time-select>
                        </div>
                    </el-form-item>
                    <el-form-item label="周五" prop="five" class="clearfix placeholder-indent">
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime13" style="width:120px"
                                            :picker-options="{
                                start: '00:00',
                                step: '00:15',
                                end: '24:00'
                              }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime13" style="width:120px"
                                            :picker-options="{
                                start: '00:00',
                                step: '00:15',
                                end: '24:00',
                                minTime: ruleForm.startTime13
                              }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime14" style="width:120px"
                                            :picker-options="{
                                  start: '00:00',
                                  step: '00:15',
                                  end: '24:00'
                                }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime14" style="width:120px"
                                            :picker-options="{
                                  start: '00:00',
                                  step: '00:15',
                                  end: '24:00',
                                  minTime: ruleForm.startTime14
                                }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime15" style="width:120px"
                                            :picker-options="{
                                    start: '00:00',
                                    step: '00:15',
                                    end: '24:00'
                                  }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime15" style="width:120px"
                                            :picker-options="{
                                    start: '00:00',
                                    step: '00:15',
                                    end: '24:00',
                                    minTime: ruleForm.startTime15
                                  }">
                            </el-time-select>
                        </div>
                    </el-form-item>
                    <el-form-item label="周六" prop="six" class="clearfix placeholder-indent">
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime16" style="width:120px"
                                            :picker-options="{
                                  start: '00:00',
                                  step: '00:15',
                                  end: '24:00'
                                }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime16" style="width:120px"
                                            :picker-options="{
                                  start: '00:00',
                                  step: '00:15',
                                  end: '24:00',
                                  minTime: ruleForm.startTime16
                                }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime17" style="width:120px"
                                            :picker-options="{
                                    start: '00:00',
                                    step: '00:15',
                                    end: '24:00'
                                  }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime17" style="width:120px"
                                            :picker-options="{
                                    start: '00:00',
                                    step: '00:15',
                                    end: '24:00',
                                    minTime: ruleForm.startTime17
                                  }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime18" style="width:120px"
                                            :picker-options="{
                                      start: '00:00',
                                      step: '00:15',
                                      end: '24:00'
                                    }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime18" style="width:120px"
                                            :picker-options="{
                                      start: '00:00',
                                      step: '00:15',
                                      end: '24:00',
                                      minTime: ruleForm.startTime18
                                    }">
                            </el-time-select>
                        </div>
                    </el-form-item>
                    <el-form-item label="周日" prop="seven" class="clearfix placeholder-indent">
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime19" style="width:120px"
                                            :picker-options="{
                                    start: '00:00',
                                    step: '00:15',
                                    end: '24:00'
                                  }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime19" style="width:120px"
                                            :picker-options="{
                                    start: '00:00',
                                    step: '00:15',
                                    end: '24:00',
                                    minTime: ruleForm.startTime19
                                  }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime20" style="width:120px"
                                            :picker-options="{
                                      start: '00:00',
                                      step: '00:15',
                                      end: '24:00'
                                    }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime20" style="width:120px"
                                            :picker-options="{
                                      start: '00:00',
                                      step: '00:15',
                                      end: '24:00',
                                      minTime: ruleForm.startTime20
                                    }">
                            </el-time-select>
                        </div>
                        <div class="fl" style="width:33%;">
                            <el-time-select placeholder="起始时间" v-model="ruleForm.startTime21" style="width:120px"
                                            :picker-options="{
                                        start: '00:00',
                                        step: '00:15',
                                        end: '24:00'
                                      }">
                            </el-time-select>
                            <el-time-select placeholder="结束时间" v-model="ruleForm.endTime21" style="width:120px"
                                            :picker-options="{
                                        start: '00:00',
                                        step: '00:15',
                                        end: '24:00',
                                        minTime: ruleForm.startTime21
                                      }">
                            </el-time-select>
                        </div>
                    </el-form-item>
                    <el-button type="primary" @click="next()" style="margin-left:50%;">下一步</el-button>
                </div>

                <!-- tab第二页 -->
                <div v-show="!showb">
                    <el-form-item label="是否选择关联订单" prop="delivery" v-show="ifis">
                        <el-switch v-model="delivery1" @change="change_delivery1"></el-switch>
                    </el-form-item>
                    <el-form-item label="关联订单" prop="aboutorder" v-show="ordershow">
                        <el-select v-model="ruleForm.aboutorder" placeholder="请选择关联订单">
                            <el-option v-for="item in deliverys" :key="item.id" :label="item.orderNo" :value="item.id">
                            </el-option>
                        </el-select>
                    </el-form-item>
                    <el-form-item label="订单类型" prop="type">
                        <el-select v-model="ruleForm.type" placeholder="请选择订单类型" @change="change_order"
                                   style="width:300px;">
                            <el-option label="定制辅导" value="0"></el-option>
                            <el-option label="考前突击" value="1"></el-option>
                            <el-option label="论文大礼包" value="4"></el-option>
                            <el-option label="特殊订单" value="32"></el-option>
                        </el-select>
                    </el-form-item>
                    <el-form-item label="课程代码" prop="courseCode">
                        <el-input v-model="ruleForm.courseCode" style="width:300px;"></el-input>
                    </el-form-item>
                    <el-form-item label="课程名称" prop="courseName">
                        <el-input v-model="ruleForm.courseName" style="width:300px;"></el-input>
                    </el-form-item>
                    <el-form-item label="课程熟悉度" prop="courseFamiliarityId">
                        <el-select v-model="ruleForm.courseFamiliarityId" placeholder="请选择课程熟悉度" style="width:300px;">
                            <el-option v-for="item in courseFamiliaritys" :key="item.id" :label="item.familiarityName"
                                       :value="item.id">
                            </el-option>
                        </el-select>
                    </el-form-item>
                    <!-- v-bind:disabled="xueqika" -->
                    <el-form-item label="是否使用学期卡" v-show="isCard">
                        <el-switch v-model="ruleForm.isFromCard" @change="change_card">
                        </el-switch>
                    </el-form-item>
                    <el-form-item label="学期卡" v-show="cardtime">
                        <span>{{cardNo}} ({{lastTime}} 课时)</span>
                    </el-form-item>
                    <el-form-item label="学期卡单价" v-show="cardtime">
                        <span>{{unitWorth}} ({{cu.currency}}/课时)</span>
                    </el-form-item>



                    <el-form-item class="totalPrice" label="课程总价" v-show="cardprice" prop="totalPrice"
                                  :rules="(this.ruleForm.isFromCard==true&&this.ruleForm.type!=0)||this.ruleForm.isFromCard==false?rules.totalPrice:[{ required: false, message: '请填写课程总价', trigger: 'blur' }]">
                        <el-input-number v-model="ruleForm.totalPrice" @blur="changeprice()" :min="0" :precision="1"
                                         :step="0.1" v-on:input="inputFunc"></el-input-number>
                        <span v-show="cardtime">{{cu.currency}}</span>
                    </el-form-item>
                    <div v-show="!cardtime">
                        <el-form-item label="选择币种" prop="currency">
                            <el-select v-model="nomarlCurrency" placeholder="选择币种" style="width:300px;"
                                       @change='changeCurrency'>
                                <el-option v-for="item in currencyList" :key="item.id" :label="item.tagerCurrency"
                                           :value="item.id" :disabled='item.deleteFlag == true'>
                                </el-option>
                            </el-select>
                        </el-form-item>
                        <el-form-item label="定金" v-show="cardminMoney" prop="minMoney"
                                      :rules="this.ruleForm.isFromCard==false?rules.minMoney:[{ required: false, message: '请填写课程定金', trigger: 'blur' }]">
                            <el-input style="width:300px; display: inline-block;" placeholder="定金"
                                      v-model="ruleForm.minMoney" type="number">
                            </el-input>
                            <span v-show="cardtime">{{cu.currency}}</span>
                        </el-form-item>
                        <el-form-item>
                            <el-checkbox v-model="ruleForm.useBalanceToSubscription"
                                         @change='useBalanceToSubscriptionChange'>使用 {{useAccountToPay}} 账户支付
                            </el-checkbox>
                            <el-popover
                                        placement="top-start"
                                        width="200"
                                        trigger="hover"
                                        content="使用选择币种的账户余额支付。选择后，如果账户余额可以支付定金则不需要上传定金截图。否则请不要勾选。如果需要余额转账混合支付，请先充值到余额。">
                                <a class='el-icon-warning' slot="reference"></a>
                            </el-popover>
                        </el-form-item>
                        <el-form-item label="定金图片上传" v-show='hideUpoladPicture == true'>
                            <div id='DJUpload' style="margin-top: 10px;">
                                <!-- 定金图片上传 -->
                                <el-upload :action="uploadUrl" :file-list="fileListDJ" :multiple="false"
                                           list-type="picture-card" :on-preview="handlePictureCardPreviewDJ"
                                           :data="myHeaders"
                                           :on-change='changeDJ' :on-success='successDJ' :on-remove="handleRemoveDJ">
                                    <i class="el-icon-plus"></i>
                                </el-upload>
                                <el-dialog width='70%' :visible.sync="dialogVisibleDJ">
                                    <img width="100%" :src="dialogImageUrlDJ" alt="">
                                </el-dialog>
                            </div>
                        </el-form-item>
                    </div>

                    <div>
                        <el-form-item label="材料费" prop="decimalMaterialCost" v-show="cailiao"
                                      :rules="(this.ruleForm.isFromCard==true&&this.ruleForm.type==4)||(this.ruleForm.type==1||this.ruleForm.type==4)?rules.decimalMaterialCost:[{ required: false, message: '请填写材料费', trigger: 'blur' }]">
                            <el-input v-model="ruleForm.decimalMaterialCost" @blur="changeprice()"
                                      v-on:input="inputFuncs" type="number" style="width:300px;"
                                      v-bind:disabled="cailiaotype"></el-input>
                            <span v-show="cardtime">{{cu.currency}}</span>
                        </el-form-item>
                    </div>
                    <el-form-item label="课时单价" prop="price" v-show="order"
                                  :rules="(this.ruleForm.isFromCard==true&&this.ruleForm.type==4)||(this.ruleForm.isFromCard==false&&this.ruleForm.type!=32)?rules.price:[{ required: false, message: '请填写课时单价', trigger: 'blur' }]">
                        <el-input v-model="ruleForm.price" @blur="changeprice()" type="number" style="width:300px;"
                                  :disabled="dis1"></el-input>
                        <span v-show="cardtime">{{cu.currency}}/H</span>
                    </el-form-item>
                    <el-form-item label="预充课时" prop="scheduledTime"
                                  :rules="(this.ruleForm.isFromCard==true&&this.ruleForm.type==4)||(this.ruleForm.isFromCard==false&&this.ruleForm.type!=32)?rules.scheduledTime:[{ required: false, message: '请填写预充课时', trigger: 'blur' }]"
                                  v-if='lessiontype != 32'>
                        <el-input v-model="ruleForm.scheduledTime" type="number" style="width:300px;"
                                  :disabled="lessiontype == 1 || lessiontype == 4">
                        </el-input>
                    </el-form-item>

                    <el-form-item label="学期卡预计抵扣课时" v-show="cardtime">
                        <span v-if='ruleForm.type == 0'>{{ruleForm.scheduledTime}}</span>
                        <span v-if='ruleForm.type != 0'>{{xueqikadikoukeshi}}</span>
                        <span>课时</span>
                    </el-form-item>
                    <div v-show="specialOrder">
                        <el-form-item label="字数" prop="wordsNum" v-show="Special"
                                      :rules="this.ruleForm.type==4?rules.wordsNum:[{ required: false, message: '请填写字数', trigger: 'blur' }]">
                            <el-input v-model="ruleForm.wordsNum" type="number" style="width:300px;"></el-input>
                            <span> 字</span>
                        </el-form-item>
                        <el-form-item label="特殊报价" prop="theSpecialOffer" v-show="Special">
                            <el-checkbox v-model="ruleForm.theSpecialOffer" style="width:300px;" @change="change_type">
                                有特殊报价</el-checkbox>
                        </el-form-item>
                        <div v-show="Specialtype">
                            <el-form-item label="报价人" prop="specialOfferUser" v-show="Special"
                                          :rules="this.ruleForm.type==4&&this.ruleForm.theSpecialOffer==true?rules.specialOfferUser:[{ required: false, message: '请选择报价人', trigger: 'change' }]">
                                <el-select v-model="ruleForm.specialOfferUser" style="width:300px;">
                                    <el-option v-for="item in queryQuotableUserList" :key="item.id"
                                               :label="item.username" :value="item.userId">
                                    </el-option>
                                </el-select>
                            </el-form-item>
                            <el-form-item label="实际工作量" prop="specialOffer" v-show="Special"
                                          :rules="this.ruleForm.type==4&&this.ruleForm.theSpecialOffer==true?rules.specialOffer:[{ required: false, message: '请填写实际工作量', trigger: 'blur' }]">
                                <el-input v-model="ruleForm.specialOffer" type="number" style="width:300px;"></el-input>
                                <span> 字</span>
                            </el-form-item>
                        </div>
                    </div>
                    <el-form-item label="Deal Deadline" v-show="time" prop="endCourseTime">
                        <el-col :span="11">
                            <el-form-item
                                          :rules="this.ruleForm.type==4?rules.endCourseTime:[{ required: false, message: '请选择Deal Deadline', trigger: 'change' }]">
                                <el-date-picker class="placeholder-indent" style="width:120px;" type="date"
                                                :picker-options="pickerOptions" placeholder="选择日期"
                                                v-model="ruleForm.endCourseTime"
                                                value-format="yyyy-MM-dd"></el-date-picker><span style="padding-left:10px;color:#606266">23:59:59</span>
                            </el-form-item>
                        </el-col>
                    </el-form-item>
                    <el-form-item label="Official Deadline" v-show="time" prop="examTime">
                        <el-col :span="11">
                            <el-form-item
                                          :rules="this.ruleForm.type==4?rules.examTime:[{ required: false, message: '请选择Official Deadline', trigger: 'change' }]">
                                <el-date-picker class="placeholder-indent" style="width:120px;" type="date"
                                                :picker-options="pickerOptions" placeholder="选择日期"
                                                v-model="ruleForm.examTime"
                                                value-format="yyyy-MM-dd">
                                </el-date-picker><span style="padding-left:10px;color:#606266">23:59:59</span>
                            </el-form-item>
                        </el-col>
                    </el-form-item>

                    <div v-if='isDingzhifudao == false && isKaoqiantuji == false && isLunwendalibao == false'>
                        <el-form-item label="订单需求" class="important">
                            <!-- <span style="color: #f56c6c; margin-right: 4px;">*</span> -->
                            <el-input type="textarea" :rows="3" v-model="ruleForm.sellerDemandDesc"></el-input>
                        </el-form-item>
                    </div>
                    <div v-if='isDingzhifudao == true || isKaoqiantuji == true || isLunwendalibao == true'>
                        <div v-for='item in orderQuestionsArr'>
                            <el-form-item :label="item.question" class="important">
                                <span v-if='item.select != null'>
                                    <el-radio v-for='i in item.select' :label="i" v-model='item.answer'></el-radio>
                                </span>
                                <el-input type="textarea" v-if='item.select === null' :rows="2" v-model="item.answer"></el-input>
                            </el-form-item>
                        </div>
                    </div>
                    <!-- <div v-if='isKaoqiantuji == true'>
                        <div v-for='item in orderQuestionsArr'>
                            <el-form-item :label="item.question" class="important">
                                <el-input type="textarea" :rows="2" v-model="item.answer"></el-input>
                            </el-form-item>
                        </div>
                    </div>
                    <div v-if='isLunwendalibao == true'>
                        <div v-for='item in orderQuestionsArr'>
                            <el-form-item :label="item.question" class="important">
                                <el-input type="textarea" :rows="2" v-model="item.answer"></el-input>
                            </el-form-item>
                        </div>
                    </div> -->
                    <el-form-item label="订单备注">
                        <el-input type="textarea" :rows="3" v-model="ruleForm.remark"></el-input>
                    </el-form-item>
                    <el-form-item label="文件组">
                        <div v-for="(item, index) in grouplist" class="clearfix">
                            <div>
                                <span style="display:inline-block;width:160px">{{item.groupName}}</span>
                                <el-button size="small" type="primary"
                                           style="margin-left:12px;margin-right:12px"
                                           @click='filesUploadOss(item.id, index)'>选择文件</el-button>
                            </div>
                            <div>
                                <div :id="'ossfile' + index"></div>
                            </div>
                            <el-button size="small" type="primary"
                                       style="float:left;margin-left:12px;margin-right:12px ;display:none;"
                                       :id='"selectfiles" + index'>选择文件</el-button>
                            <el-button style="display:none;" type="success" :id='"postfiles" + index'
                                       v-bind:loading="b1">
                                上传文件</el-button>
                        </div>
                    </el-form-item>
                    <el-form-item>
                        <el-button type="primary" @click="save('ruleForm')" v-bind:loading="btnstatus">{{btnval}}
                        </el-button>
                        <el-button type="primary" @click="back">返回</el-button>
                    </el-form-item>
                </div>
            </el-form>
        </div>
    </div>
    </div>
</body>
<script src="js/jquery.js"></script>
<script type="text/javascript">
    document.write('<script src="../../js/base.js?tmp=' + new Date().getTime() +
        '" type="text/javascript" charset="utf-8"><\/script>');
</script>
<script src="libs/crypto.js"></script>
<script src="libs/hmac.js"></script>
<script src="libs/sha1.js"></script>
<script src="libs/base64.js"></script>
<script src="libs/plupload.full.min.js"></script>
<script src="js/vue.js"></script>
<script src="js/index.js"></script>
<script src="js/axios.min.js"></script>
<!-- <script src="pagejs/creat_qrh.js"></script> -->

</body>
<script type='text/javascript'>
    window.onload = function () {
        loadJsOrCss('pagejs/creat_qrh.js');
    };
</script>

</html>